<UserControl
  x:Class="SlowWhy.Ram"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:hc="https://handyorg.github.io/handycontrol"
  xmlns:icon="http://metro.mahapps.com/winfx/xaml/iconpacks"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  d:DesignHeight="500"
  d:DesignWidth="400"
  mc:Ignorable="d">

  <Grid>
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto" />
      <RowDefinition Height="Auto" />
      <RowDefinition Height="Auto" />
      <RowDefinition Height="*" />
      <RowDefinition Height="Auto" />
    </Grid.RowDefinitions>

    <Border
      Grid.Row="0"
      Padding="10"
      BorderBrush="{DynamicResource BorderBrush}"
      BorderThickness="0,0,0,1">
      <Grid>
        <Button
          Padding="8,4"
          HorizontalAlignment="Left"
          Click="btnBack_Click"
          Style="{StaticResource ButtonIconCustom}">
          <StackPanel Orientation="Horizontal">
            <icon:PackIconPhosphorIcons
              Width="14"
              Height="14"
              VerticalAlignment="Center"
              Kind="ArrowLeft" />
            <TextBlock
              Margin="4,0,0,0"
              VerticalAlignment="Center"
              Text="Back" />
          </StackPanel>
        </Button>

        <StackPanel
          HorizontalAlignment="Center"
          VerticalAlignment="Center"
          Orientation="Horizontal">
          <icon:PackIconPhosphorIcons
            Width="16"
            Height="16"
            VerticalAlignment="Center"
            Foreground="{DynamicResource SuccessBrush}"
            Kind="Memory" />
          <TextBlock
            Margin="6,0,0,0"
            VerticalAlignment="Center"
            FontSize="11"
            FontWeight="SemiBold"
            Text="Memory (RAM) Optimizer" />
        </StackPanel>
      </Grid>
    </Border>

    <Border
      Grid.Row="1"
      Margin="10,10,10,0"
      Padding="15"
      Background="{DynamicResource RegionBrush}"
      BorderBrush="{DynamicResource BorderBrush}"
      BorderThickness="1"
      CornerRadius="4">
      <Grid>
        <TextBlock
          VerticalAlignment="Bottom"
          FontSize="12"
          Text="Available Memory" />
        <TextBlock
          x:Name="txtRam"
          HorizontalAlignment="Right"
          FontSize="32"
          Foreground="{DynamicResource PrimaryBrush}"
          Text="0.00 GB" />
      </Grid>
    </Border>

    <Border
      Grid.Row="2"
      Margin="10,10,10,0"
      Padding="15"
      Background="{DynamicResource RegionBrush}"
      BorderBrush="{DynamicResource BorderBrush}"
      BorderThickness="1"
      CornerRadius="4">
      <StackPanel>
        <TextBlock
          Margin="0,0,0,8"
          FontSize="12"
          Text="Cleaning Mode" />
        <ComboBox
          x:Name="cmbCleaningLevel"
          Height="42"
          FontSize="12"
          ItemContainerStyle="{StaticResource ComboBoxItemCustom}"
          SelectedIndex="0"
          Style="{StaticResource ComboBoxExtend}">
          <ComboBoxItem>
            <StackPanel>
              <TextBlock
                FontWeight="SemiBold"
                Foreground="{DynamicResource SuccessBrush}"
                Text="Safe (Recommended)" />
              <TextBlock
                FontSize="10"
                Foreground="{DynamicResource SecondaryTextBrush}"
                Text="Cache only - No performance impact" />
            </StackPanel>
          </ComboBoxItem>
          <ComboBoxItem>
            <StackPanel>
              <TextBlock
                FontWeight="SemiBold"
                Foreground="{DynamicResource WarningBrush}"
                Text="Medium" />
              <TextBlock
                FontSize="10"
                Foreground="{DynamicResource SecondaryTextBrush}"
                Text="Cache + File system - Minimal impact" />
            </StackPanel>
          </ComboBoxItem>
          <ComboBoxItem>
            <StackPanel>
              <TextBlock
                FontWeight="SemiBold"
                Foreground="{DynamicResource DangerBrush}"
                Text="Aggressive" />
              <TextBlock
                FontSize="10"
                Foreground="{DynamicResource SecondaryTextBrush}"
                Text="Everything - May slow apps temporarily" />
            </StackPanel>
          </ComboBoxItem>
        </ComboBox>
      </StackPanel>
    </Border>

    <Border
      Grid.Row="3"
      Margin="10,10,10,10"
      Padding="15"
      Background="{DynamicResource RegionBrush}"
      BorderBrush="{DynamicResource BorderBrush}"
      BorderThickness="1"
      CornerRadius="4">
      <ScrollViewer HorizontalScrollBarVisibility="Disabled" VerticalScrollBarVisibility="Auto">
        <StackPanel>
          <TextBlock
            Margin="0,0,0,10"
            FontSize="12"
            FontWeight="SemiBold"
            Text="How it works:" />

          <TextBlock
            Margin="0,0,0,5"
            FontSize="11"
            TextWrapping="Wrap">
            <Run FontWeight="Bold" Text="Safe Mode:" />
            <Run Text=" Clears closed apps cache (1-2 GB)" />
          </TextBlock>

          <TextBlock
            Margin="0,0,0,5"
            FontSize="11"
            TextWrapping="Wrap">
            <Run FontWeight="Bold" Text="Medium Mode:" />
            <Run Text=" File system cache (1.5-2.5 GB)" />
          </TextBlock>

          <TextBlock
            Margin="0,0,0,10"
            FontSize="11"
            TextWrapping="Wrap">
            <Run FontWeight="Bold" Text="Aggressive Mode:" />
            <Run Text=" Running apps (2-4 GB, may slow)" />
          </TextBlock>

          <Border
            Padding="10"
            Background="{DynamicResource SecondaryRegionBrush}"
            BorderBrush="{DynamicResource WarningBrush}"
            BorderThickness="1"
            CornerRadius="4">
            <Grid>
              <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
              </Grid.ColumnDefinitions>
              <icon:PackIconPhosphorIcons
                Grid.Column="0"
                Width="14"
                Height="14"
                Margin="0,2,8,0"
                VerticalAlignment="Top"
                Foreground="{DynamicResource WarningBrush}"
                Kind="Lightbulb" />
              <TextBlock
                Grid.Column="1"
                FontSize="10"
                TextWrapping="Wrap">
                <Run FontWeight="Bold" Text="Tip:" />
                <Run Text=" Use Safe mode for daily use. Only use Aggressive before launching games." />
              </TextBlock>
            </Grid>
          </Border>
        </StackPanel>
      </ScrollViewer>
    </Border>

    <Border
      Grid.Row="4"
      Padding="10"
      BorderBrush="{DynamicResource BorderBrush}"
      BorderThickness="0,1,0,0">
      <Button
        x:Name="btnRamClear"
        Click="btnRamClear_Click"
        Style="{StaticResource ButtonPrimary}">
        <StackPanel Orientation="Horizontal">
          <icon:PackIconPhosphorIcons
            Width="14"
            Height="14"
            VerticalAlignment="Center"
            Kind="Broom" />
          <TextBlock
            Margin="6,0,0,0"
            VerticalAlignment="Center"
            FontWeight="SemiBold"
            Text="Clean RAM" />
        </StackPanel>
      </Button>
    </Border>
  </Grid>
</UserControl>
