<UserControl
  x:Class="SlowWhy.Disk"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:hc="https://handyorg.github.io/handycontrol"
  xmlns:icon="http://metro.mahapps.com/winfx/xaml/iconpacks"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  d:DesignHeight="500"
  d:DesignWidth="400"
  mc:Ignorable="d">

  <Grid>
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto" />
      <RowDefinition Height="*" />
      <RowDefinition Height="Auto" />
      <RowDefinition Height="Auto" />
    </Grid.RowDefinitions>

    <Border
      Grid.Row="0"
      Padding="10"
      BorderBrush="{DynamicResource BorderBrush}"
      BorderThickness="0,0,0,1">
      <Grid>
        <Button
          Padding="8,4"
          HorizontalAlignment="Left"
          Click="btnBack_Click"
          Style="{StaticResource ButtonIconCustom}">
          <StackPanel Orientation="Horizontal">
            <icon:PackIconPhosphorIcons
              Width="14"
              Height="14"
              VerticalAlignment="Center"
              Kind="ArrowLeft" />
            <TextBlock
              Margin="4,0,0,0"
              VerticalAlignment="Center"
              Text="Back" />
          </StackPanel>
        </Button>

        <StackPanel
          HorizontalAlignment="Center"
          VerticalAlignment="Center"
          Orientation="Horizontal">
          <icon:PackIconPhosphorIcons
            Width="16"
            Height="16"
            VerticalAlignment="Center"
            Foreground="{DynamicResource DangerBrush}"
            Kind="HardDrives" />
          <TextBlock
            Margin="6,0,0,0"
            VerticalAlignment="Center"
            FontSize="11"
            FontWeight="SemiBold"
            Text="Disk Analysis (App &amp; Files)" />
        </StackPanel>
      </Grid>
    </Border>

    <Grid Grid.Row="1" Margin="10">
      <DataGrid
        x:Name="dgItems"
        AutoGenerateColumns="False"
        HeadersVisibility="Column"
        IsReadOnly="True"
        RowStyle="{StaticResource CustomDataGridRowStyle}"
        Style="{StaticResource DataGrid.Small}">
        <DataGrid.Columns>
          <DataGridTextColumn
            Width="180"
            Binding="{Binding Name}"
            Header="Name" />
          <DataGridTextColumn
            Width="80"
            Binding="{Binding Type}"
            Header="Type" />
          <DataGridTextColumn
            Width="80"
            Binding="{Binding DisplaySize}"
            Header="Size" />
          <DataGridTextColumn
            Width="300"
            Binding="{Binding Path}"
            Header="Path" />
        </DataGrid.Columns>
        <DataGrid.ContextMenu>
          <ContextMenu Style="{StaticResource ContextMenu.Small}">
            <MenuItem Click="MenuItem_OpenLocation_Click" Header="Open Location">
              <MenuItem.Icon>
                <icon:PackIconPhosphorIcons
                  Width="14"
                  Height="14"
                  Kind="FolderOpen" />
              </MenuItem.Icon>
            </MenuItem>
            <MenuItem Click="Delete_Click" Header="Delete">
              <MenuItem.Icon>
                <icon:PackIconPhosphorIcons
                  Width="14"
                  Height="14"
                  Kind="Trash" />
              </MenuItem.Icon>
            </MenuItem>
          </ContextMenu>
        </DataGrid.ContextMenu>
      </DataGrid>

      <StackPanel
        x:Name="pnlLoading"
        HorizontalAlignment="Center"
        VerticalAlignment="Center"
        Visibility="Collapsed">
        <hc:CircleProgressBar
          Width="40"
          Height="40"
          Margin="0,0,0,10"
          Background="Transparent"
          IsIndeterminate="True" />
        <TextBlock
          HorizontalAlignment="Center"
          FontWeight="Bold"
          Foreground="{DynamicResource PrimaryBrush}"
          Text="Scanning..." />
      </StackPanel>
    </Grid>

    <Border
      Grid.Row="2"
      Padding="10"
      BorderBrush="{DynamicResource BorderBrush}"
      BorderThickness="0,1,0,0">
      <Button
        x:Name="btnScan"
        Height="35"
        Click="btnScan_Click"
        Style="{StaticResource ButtonPrimary}">
        <StackPanel Orientation="Horizontal">
          <icon:PackIconPhosphorIcons
            Width="14"
            Height="14"
            VerticalAlignment="Center"
            Kind="MagnifyingGlass" />
          <TextBlock
            Margin="6,0,0,0"
            VerticalAlignment="Center"
            FontWeight="SemiBold"
            Text="Scan" />
        </StackPanel>
      </Button>
    </Border>

    <StatusBar Grid.Row="3">
      <StatusBarItem>
        <TextBlock
          x:Name="txtStatus"
          FontSize="11"
          Text="Ready" />
      </StatusBarItem>
      <Separator />
      <StatusBarItem>
        <ProgressBar
          x:Name="progressBar1"
          Width="120"
          Height="15"
          Maximum="100"
          Minimum="0" />
      </StatusBarItem>
    </StatusBar>
  </Grid>
</UserControl>
