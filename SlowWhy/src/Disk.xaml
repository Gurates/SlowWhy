<UserControl
  x:Class="SlowWhy.Disk"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:hc="https://handyorg.github.io/handycontrol"
  xmlns:icon="http://metro.mahapps.com/winfx/xaml/iconpacks"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  mc:Ignorable="d"
  d:DesignHeight="500" d:DesignWidth="400">

  <Grid>
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto" />
      <RowDefinition Height="*" />
      <RowDefinition Height="Auto" />
      <RowDefinition Height="Auto" />
    </Grid.RowDefinitions>

    <Border Grid.Row="0" Padding="10" BorderBrush="{DynamicResource BorderBrush}" BorderThickness="0,0,0,1">
      <Grid>
        <Button
          HorizontalAlignment="Left"
          Click="btnBack_Click"
          Style="{StaticResource ButtonDefault}"
          Padding="8,4">
          <StackPanel Orientation="Horizontal">
            <icon:PackIconPhosphorIcons Kind="ArrowLeft" Width="14" Height="14" VerticalAlignment="Center" />
            <TextBlock Margin="4,0,0,0" Text="Back" VerticalAlignment="Center" />
          </StackPanel>
        </Button>

        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
          <icon:PackIconPhosphorIcons Kind="HardDrives" Width="16" Height="16" VerticalAlignment="Center" Foreground="{DynamicResource DangerBrush}" />
          <TextBlock Margin="6,0,0,0" Text="Disk Analysis (App &amp; Files)" FontWeight="SemiBold" FontSize="11" VerticalAlignment="Center" />
        </StackPanel>
      </Grid>
    </Border>

    <Grid Grid.Row="1" Margin="10">
      <DataGrid
        x:Name="dgItems"
        AutoGenerateColumns="False"
        IsReadOnly="True"
        HeadersVisibility="Column"
        GridLinesVisibility="Horizontal"
        RowHeight="28"
        FontSize="11">
        <DataGrid.Columns>
          <DataGridTextColumn Header="Name" Binding="{Binding Name}" Width="180" />
          <DataGridTextColumn Header="Type" Binding="{Binding Type}" Width="80" />
          <DataGridTextColumn Header="Size" Binding="{Binding DisplaySize}" Width="80" />
          <DataGridTextColumn Header="Path" Binding="{Binding Path}" Width="300" />
        </DataGrid.Columns>
        <DataGrid.ContextMenu>
          <ContextMenu>
            <MenuItem Header="Open Location" Click="MenuItem_OpenLocation_Click">
              <MenuItem.Icon>
                <icon:PackIconPhosphorIcons Kind="FolderOpen" Width="14" Height="14" />
              </MenuItem.Icon>
            </MenuItem>
            <MenuItem Header="Delete" Click="Delete_Click">
              <MenuItem.Icon>
                <icon:PackIconPhosphorIcons Kind="Trash" Width="14" Height="14" />
              </MenuItem.Icon>
            </MenuItem>
          </ContextMenu>
        </DataGrid.ContextMenu>
      </DataGrid>

      <StackPanel
        x:Name="pnlLoading"
        HorizontalAlignment="Center"
        VerticalAlignment="Center"
        Visibility="Collapsed">
        <hc:LoadingLine Margin="0,0,0,10" />
        <TextBlock Text="Scanning..." FontWeight="Bold" HorizontalAlignment="Center" Foreground="{DynamicResource PrimaryBrush}" />
      </StackPanel>
    </Grid>

    <Border Grid.Row="2" Padding="10" BorderBrush="{DynamicResource BorderBrush}" BorderThickness="0,1,0,0">
      <Button
        x:Name="btnScan"
        Height="35"
        Click="btnScan_Click"
        Style="{StaticResource ButtonPrimary}">
        <StackPanel Orientation="Horizontal">
          <icon:PackIconPhosphorIcons Kind="MagnifyingGlass" Width="14" Height="14" VerticalAlignment="Center" />
          <TextBlock Margin="6,0,0,0" Text="Scan" VerticalAlignment="Center" FontWeight="SemiBold" />
        </StackPanel>
      </Button>
    </Border>

    <StatusBar Grid.Row="3">
      <StatusBarItem>
        <TextBlock x:Name="txtStatus" Text="Ready" FontSize="11" />
      </StatusBarItem>
      <Separator />
      <StatusBarItem>
        <ProgressBar
          x:Name="progressBar1"
          Width="120"
          Height="15"
          Minimum="0"
          Maximum="100" />
      </StatusBarItem>
    </StatusBar>
  </Grid>
</UserControl>
